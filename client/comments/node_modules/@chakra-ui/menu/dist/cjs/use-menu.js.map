{"version":3,"sources":["../../src/use-menu.ts"],"names":["strict","name","MenuProvider","useMenuContext","useMenu","props","id","closeOnSelect","closeOnBlur","autoSelect","placement","placementProp","gutter","fixed","preventOverflow","modifiers","isLazy","isOpen","onOpen","onClose","onToggle","menuRef","buttonRef","ref","onInteractOutside","event","current","contains","target","forceUpdate","popper","reference","focusedIndex","setFocusedIndex","domContext","preventScroll","buttonId","menuId","orientation","useMenuList","menu","Error","descendants","onCharacterPress","preventDefault","key","onKeyDown","eventKey","keyMap","Escape","ArrowDown","nextIndex","length","ArrowUp","prevIndex","action","character","nextItem","node","element","textContent","index","indexOf","children","className","tabIndex","role","hidden","style","useMenuButton","openAndFocusMenu","openAndFocusFirstItem","openAndFocusLastItem","lastIndex","onClick","Enter","stopPropagation","useMenuItem","onMouseOutProp","onMouseOut","onClickProp","isDisabled","isFocusable","htmlProps","context","disabled","focusable","onMouseEnter","onMouseMove","document","activeElement","onMouseLeave","isFocused","trulyDisabled","focus","tabbable","useMenuOption","type","isChecked","rest","ownProps","useMenuOptionGroup","valueProp","value","defaultValue","onChange","isRadio","fallback","setValue","handleChange","selectedValue","nextValue","includes","validChildren","clones","map","child","useMenuState"],"mappings":"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","sourcesContent":["import { useClickable } from \"@chakra-ui/clickable\"\nimport { useDescendant, useDescendants } from \"@chakra-ui/descendant\"\nimport {\n  useControllableState,\n  useDisclosure,\n  useId,\n  useIds,\n  useShortcut,\n  useUpdateEffect,\n} from \"@chakra-ui/hooks\"\nimport { usePopper, UsePopperProps } from \"@chakra-ui/popper\"\nimport {\n  addItem,\n  callAllHandlers,\n  createContext,\n  cx,\n  dataAttr,\n  EventKeyMap,\n  focus,\n  getNextIndex,\n  getNextItemFromSearch,\n  getPrevIndex,\n  getValidChildren,\n  isArray,\n  isString,\n  mergeRefs,\n  normalizeEventKey,\n  removeItem,\n} from \"@chakra-ui/utils\"\nimport { useInteractOutside } from \"@react-aria/interactions\"\nimport React, {\n  cloneElement,\n  HTMLAttributes,\n  MouseEvent,\n  useCallback,\n  useRef,\n  useState,\n} from \"react\"\n\nconst [MenuProvider, useMenuContext] = createContext<UseMenuReturn>({\n  strict: false,\n  name: \"MenuContext\",\n})\n\nexport { MenuProvider, useMenuContext }\n\nexport interface UseMenuProps extends UsePopperProps {\n  /**\n   * Unique id to be used by menu and it's children\n   */\n  id?: string\n  /**\n   * If `true`, the menu will close when a menu item is\n   * clicked\n   *\n   * @default true\n   */\n  closeOnSelect?: boolean\n  /**\n   * If `true`, the menu will close when you click outside\n   * the menu list\n   */\n  closeOnBlur?: boolean\n  /**\n   * If `true`, the first enabled menu item will be selected\n   * when the menu opens.\n   *\n   * @default true\n   */\n  autoSelect?: boolean\n  /**\n   * The Popper.js modifiers to use\n   */\n  modifiers?: UsePopperProps[\"modifiers\"]\n  /**\n   * Performance ðŸš€:\n   * If `true`, the MenuItem rendering will be deferred\n   * until the menu is open.\n   */\n  isLazy?: boolean\n  /**\n   * If `true`, the top-level menu will be opened in controlled mode\n   */\n  isOpen?: boolean\n  /**\n   * If `true`, the top-level menu will be opened in un-controlled mode\n   */\n  defaultIsOpen?: boolean\n  /**\n   * Function to be called when menu is open\n   */\n  onOpen?: () => void\n  /**\n   * Function to be called when menu is closed\n   */\n  onClose?: () => void\n}\n\n/**\n * React Hook to manage a menu\n *\n * It provides the logic and will be used with react context\n * to propagate it's return value to all children\n */\nexport function useMenu(props: UseMenuProps) {\n  const {\n    id,\n    closeOnSelect = true,\n    closeOnBlur = true,\n    autoSelect = true,\n    placement: placementProp = \"bottom-start\",\n    gutter,\n    fixed = true,\n    preventOverflow,\n    modifiers,\n    isLazy,\n  } = props\n\n  const { isOpen, onOpen, onClose, onToggle } = useDisclosure(props)\n\n  /**\n   * Prepare the reference to the menu and disclosure\n   */\n  const menuRef = useRef<HTMLDivElement>(null)\n  const buttonRef = useRef<HTMLButtonElement>(null)\n\n  useInteractOutside({\n    ref: menuRef,\n    onInteractOutside: (event) => {\n      if (\n        isOpen &&\n        closeOnBlur &&\n        !buttonRef.current?.contains(event.target as HTMLElement)\n      ) {\n        onClose()\n      }\n    },\n  })\n\n  /**\n   * Add some popper.js for dynamic positioning\n   */\n  const { placement, popper, reference } = usePopper({\n    placement: placementProp,\n    fixed,\n    forceUpdate: isOpen,\n    gutter,\n    preventOverflow,\n    modifiers,\n  })\n\n  const [focusedIndex, setFocusedIndex] = useState(-1)\n\n  /**\n   * Context to register all menu item nodes\n   */\n  const domContext = useDescendants<HTMLDivElement, {}>()\n\n  /**\n   * Focus the button when we close the menu\n   */\n  useUpdateEffect(() => {\n    if (!isOpen) {\n      setFocusedIndex(-1)\n      if (buttonRef.current) {\n        focus(buttonRef.current, {\n          preventScroll: true,\n        })\n      }\n    }\n  }, [isOpen])\n\n  /**\n   * Generate unique ids for menu's list and button\n   */\n  const [buttonId, menuId] = useIds(id, `menu-button`, `menu-list`)\n\n  return {\n    domContext,\n    popper,\n    placement,\n    reference,\n    buttonId,\n    menuId,\n    orientation: \"vertical\",\n    isOpen,\n    onToggle,\n    onOpen,\n    onClose,\n    menuRef,\n    buttonRef,\n    focusedIndex,\n    closeOnSelect,\n    closeOnBlur,\n    autoSelect,\n    setFocusedIndex,\n    isLazy,\n  }\n}\n\nexport interface UseMenuReturn extends ReturnType<typeof useMenu> {}\n\n/**\n * React Hook to manage a menu list.\n *\n * The assumption here is that the `useMenu` hook is used\n * in a component higher up the tree, and it's return value\n * is passed as `context` to this hook.\n */\n\nexport interface UseMenuListProps\n  extends Omit<HTMLAttributes<Element>, \"color\"> {}\n\nexport function useMenuList(props: UseMenuListProps) {\n  const menu = useMenuContext()\n\n  if (!menu) {\n    throw new Error(\n      `useMenuContext: context is undefined. Seems you forgot the component within <Menu>`,\n    )\n  }\n\n  const {\n    focusedIndex,\n    setFocusedIndex,\n    menuRef,\n    isOpen,\n    onClose,\n    popper,\n    menuId,\n    placement,\n    domContext: { descendants },\n    isLazy,\n  } = menu\n\n  /**\n   * Hook that creates a keydown event handler that listens\n   * to printable keyboard character press\n   */\n  const onCharacterPress = useShortcut({\n    preventDefault: (event) => event.key !== \" \",\n  })\n\n  const onKeyDown = useCallback(\n    (event: React.KeyboardEvent) => {\n      const eventKey = normalizeEventKey(event)\n      const keyMap: EventKeyMap = {\n        Escape: onClose,\n        ArrowDown: () => {\n          const nextIndex = getNextIndex(focusedIndex, descendants.length)\n          setFocusedIndex(nextIndex)\n        },\n        ArrowUp: () => {\n          const prevIndex = getPrevIndex(focusedIndex, descendants.length)\n          setFocusedIndex(prevIndex)\n        },\n      }\n\n      const action = keyMap[eventKey]\n\n      if (action) {\n        event.preventDefault()\n        action(event)\n      } else {\n        const action = onCharacterPress((character) => {\n          /**\n           * Typeahead: Based on current character pressed,\n           * find the next item to be selected\n           */\n          const nextItem = getNextItemFromSearch(\n            descendants,\n            character,\n            (node) => node.element?.textContent || \"\",\n            descendants[focusedIndex],\n          )\n\n          if (nextItem) {\n            const index = descendants.indexOf(nextItem)\n            setFocusedIndex(index)\n          }\n        })\n\n        action(event)\n      }\n    },\n    [descendants, focusedIndex, onCharacterPress, onClose, setFocusedIndex],\n  )\n\n  return {\n    ...props,\n    children: !isLazy || isOpen ? props.children : null,\n    className: cx(\"chakra-menu__menu-list\", props.className),\n    ref: mergeRefs(menuRef, popper.ref),\n    tabIndex: -1,\n    role: \"menu\",\n    id: menuId,\n    hidden: !isOpen,\n    \"aria-orientation\": \"vertical\" as React.AriaAttributes[\"aria-orientation\"],\n    \"data-placement\": placement,\n    style: { ...popper.style, ...props.style },\n    onKeyDown: callAllHandlers(props.onKeyDown, onKeyDown),\n  }\n}\n\n/**\n * React Hook to manage a menu button.\n *\n * The assumption here is that the `useMenu` hook is used\n * in a component higher up the tree, and it's return value\n * is passed as `context` to this hook.\n */\n\nexport interface UseMenuButtonProps\n  extends Omit<HTMLAttributes<Element>, \"color\"> {}\n\nexport function useMenuButton(props: UseMenuButtonProps) {\n  const menu = useMenuContext()\n\n  const {\n    setFocusedIndex,\n    onOpen,\n    isOpen,\n    onClose,\n    autoSelect,\n    menuRef,\n    domContext: { descendants },\n  } = menu\n\n  const openAndFocusMenu = useCallback(() => {\n    onOpen()\n    if (menuRef.current) {\n      focus(menuRef.current)\n    }\n  }, [onOpen, menuRef])\n\n  const openAndFocusFirstItem = useCallback(() => {\n    onOpen()\n    setFocusedIndex(0)\n  }, [onOpen, setFocusedIndex])\n\n  const openAndFocusLastItem = useCallback(() => {\n    onOpen()\n    const lastIndex = descendants.length - 1\n    setFocusedIndex(lastIndex)\n  }, [onOpen, setFocusedIndex, descendants])\n\n  const onClick = useCallback(() => {\n    if (isOpen) {\n      onClose()\n    } else {\n      const action = autoSelect ? openAndFocusFirstItem : openAndFocusMenu\n      action()\n    }\n  }, [autoSelect, isOpen, onClose, openAndFocusFirstItem, openAndFocusMenu])\n\n  const onKeyDown = useCallback(\n    (event: React.KeyboardEvent) => {\n      const eventKey = normalizeEventKey(event)\n      const keyMap: EventKeyMap = {\n        Enter: openAndFocusFirstItem,\n        ArrowDown: openAndFocusFirstItem,\n        ArrowUp: openAndFocusLastItem,\n      }\n\n      const action = keyMap[eventKey]\n\n      if (action) {\n        event.preventDefault()\n        event.stopPropagation()\n        action(event)\n      }\n    },\n    [openAndFocusFirstItem, openAndFocusLastItem],\n  )\n\n  return {\n    ...props,\n    ref: mergeRefs(menu.buttonRef, menu.reference.ref),\n    className: cx(\"chakra-menu__menu-button\", props.className),\n    id: menu.buttonId,\n    \"data-active\": dataAttr(menu.isOpen),\n    \"aria-expanded\": menu.isOpen,\n    \"aria-haspopup\": \"menu\" as React.AriaAttributes[\"aria-haspopup\"],\n    \"aria-controls\": menu.menuId,\n    onClick: callAllHandlers(props.onClick, onClick),\n    onKeyDown: callAllHandlers(props.onKeyDown, onKeyDown),\n  }\n}\n\nexport interface UseMenuItemProps\n  extends Omit<HTMLAttributes<Element>, \"color\"> {\n  isDisabled?: boolean\n  isFocusable?: boolean\n}\n\nexport function useMenuItem(props: UseMenuItemProps) {\n  const {\n    onMouseOut: onMouseOutProp,\n    onClick: onClickProp,\n    isDisabled,\n    isFocusable,\n    ...htmlProps\n  } = props\n\n  const menu = useMenuContext()\n\n  const {\n    domContext,\n    setFocusedIndex,\n    focusedIndex,\n    closeOnSelect,\n    onClose,\n    menuRef,\n  } = menu\n\n  const ref = useRef<HTMLDivElement>(null)\n  const id = `menuitem-${useId()}`\n\n  /**\n   * Register the menuitem's node into the domContext\n   */\n  const index = useDescendant({\n    element: ref.current,\n    context: domContext,\n    disabled: isDisabled,\n    focusable: isFocusable,\n  })\n\n  const onMouseEnter = useCallback(() => {\n    if (isDisabled) return\n    setFocusedIndex(index)\n  }, [setFocusedIndex, index, isDisabled])\n\n  const onMouseMove = useCallback(() => {\n    if (document.activeElement !== ref.current) {\n      onMouseEnter()\n    }\n  }, [onMouseEnter])\n\n  const onMouseLeave = useCallback(() => {\n    if (isDisabled) return\n    setFocusedIndex(-1)\n  }, [setFocusedIndex, isDisabled])\n\n  const onClick = useCallback(\n    (event: MouseEvent) => {\n      onClickProp?.(event)\n      /**\n       * Close menu and parent menu's if `closeOnSelect` is set to `true`\n       */\n      if (closeOnSelect) {\n        onClose()\n      }\n    },\n    [onClose, onClickProp, closeOnSelect],\n  )\n\n  const isFocused = index === focusedIndex\n\n  const trulyDisabled = isDisabled && !isFocusable\n\n  useUpdateEffect(() => {\n    if (isFocused && !trulyDisabled) {\n      if (ref.current) {\n        focus(ref.current)\n      }\n    } else {\n      if (document.activeElement !== menuRef.current) {\n        menuRef.current?.focus()\n      }\n    }\n  }, [isFocused, trulyDisabled, menuRef])\n\n  const tabbable = useClickable({\n    onClick,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    ref,\n    isDisabled,\n    isFocusable,\n  })\n\n  return {\n    ...htmlProps,\n    ...tabbable,\n    className: cx(\"chakra-menu__menuitem\", htmlProps.className),\n    id,\n    role: \"menuitem\",\n    tabIndex: isFocused ? 0 : -1,\n  }\n}\n\nexport interface UseMenuOptionOptions {\n  value?: string\n  isChecked?: boolean\n  type?: \"radio\" | \"checkbox\"\n  children?: React.ReactNode\n}\n\nexport interface UseMenuOptionProps\n  extends UseMenuItemProps,\n    UseMenuOptionOptions {}\n\nexport function useMenuOption(props: UseMenuOptionProps) {\n  const {\n    onMouseOut,\n    onClick,\n    isDisabled,\n    isFocusable,\n    type = \"radio\",\n    isChecked,\n    ...rest\n  } = props\n\n  const ownProps = useMenuItem({\n    isDisabled,\n    isFocusable,\n    onClick,\n  })\n\n  return {\n    ...rest,\n    ...ownProps,\n    className: cx(\"chakra-menu__menuitem-option\", rest.className),\n    role: `menuitem${type}`,\n    \"aria-checked\": isChecked as React.AriaAttributes[\"aria-checked\"],\n  }\n}\n\nexport interface UseMenuOptionGroupProps {\n  value?: string | string[]\n  defaultValue?: string | string[]\n  type?: \"radio\" | \"checkbox\"\n  onChange?: (value: string | string[]) => void\n  children?: React.ReactNode\n  className?: string\n}\n\nexport function useMenuOptionGroup(props: UseMenuOptionGroupProps) {\n  const {\n    children,\n    type = \"radio\",\n    value: valueProp,\n    defaultValue,\n    onChange,\n    ...htmlProps\n  } = props\n\n  const isRadio = type === \"radio\"\n\n  const fallback = isRadio ? \"\" : []\n\n  const [value, setValue] = useControllableState({\n    defaultValue: defaultValue ?? fallback,\n    value: valueProp,\n    onChange,\n  })\n\n  const handleChange = useCallback(\n    (selectedValue: string) => {\n      if (type === \"radio\" && isString(value)) {\n        setValue(selectedValue)\n      }\n\n      if (type === \"checkbox\" && isArray(value)) {\n        const nextValue = value.includes(selectedValue)\n          ? removeItem(value, selectedValue)\n          : addItem(value, selectedValue)\n\n        setValue(nextValue)\n      }\n    },\n    [value, setValue, type],\n  )\n\n  const validChildren = getValidChildren(children)\n\n  const clones = validChildren.map((child) => {\n    /**\n     * We've added an internal `id` to each `MenuItemOption`,\n     * let's use that for type-checking.\n     *\n     * We can't rely on displayName or the element's type since\n     * they can be changed by the user.\n     */\n    if ((child.type as any).id !== \"MenuItemOption\") return child\n\n    const onClick = (event: MouseEvent) => {\n      handleChange(child.props.value)\n      child.props.onClick?.(event)\n    }\n\n    const isChecked =\n      type === \"radio\"\n        ? child.props.value === value\n        : value.includes(child.props.value)\n\n    return cloneElement(child, {\n      type,\n      onClick,\n      isChecked,\n    })\n  })\n\n  return {\n    ...htmlProps,\n    className: cx(\"chakra-menu__option-group\", htmlProps.className),\n    children: clones,\n  }\n}\n\nexport function useMenuState() {\n  const { isOpen, onClose } = useMenuContext()\n  return { isOpen, onClose }\n}\n"],"file":"use-menu.js"}